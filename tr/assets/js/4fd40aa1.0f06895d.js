"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5776],{2620:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var a=r(7294),n=r(4774),l=r(9960),o=r(5999),s=r(9603),c=r(9417);function d(){const[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[s,c]=(0,a.useState)(!1),[d,h]=(0,a.useState)(!1),[f,p]=(0,a.useState)(0),[w,x]=(0,a.useState)(null),E=(0,a.useRef)(null),k=async()=>{if(e){c(!0),l(""),x(null),p(0);try{const t=await fetch("https://chatdefichain.fly.dev/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e})}),r=await t.json();l(r.response),p(r.id)}catch(d){console.error(d)}finally{c(!1)}}else h(!0)};return a.createElement(n.Z,{description:"Ask questions about DeFiChain which will get answered."},a.createElement("div",{className:"transition-color mapBackground flex items-center justify-center bg-cover bg-center bg-no-repeat py-16 md:py-28"},a.createElement("div",{className:"relative flex max-w-2xl grow flex-col items-center rounded-3xl bg-white p-6 shadow-2xl dark:bg-backgroundDark md:p-10"},a.createElement(y,null),a.createElement(b,null),a.createElement("h1",null,a.createElement(o.Z,null,"JellyChat.Title")),a.createElement("p",{className:"text-center text-gray-600 dark:text-gray-200"},a.createElement(o.Z,null,"JellyChat.Instruction")),a.createElement(i,{setError:h,error:d,onSubmit:k,question:e,setQuestion:t,inputRef:E}),a.createElement(g,{disabled:s,onSubmit:k}),a.createElement(m,{answer:r,loading:s,currentId:f,selectedRating:w,ratingSelected:e=>x(e)}),a.createElement(u,{selectedRating:w,currentId:f,setSelectedRating:x}),0!==f&&a.createElement("p",{className:"absolute bottom-2 m-auto my-0 text-sm text-gray-700"},"Question: ",f))))}function i(e){let{error:t,onSubmit:r,question:n,setQuestion:l,inputRef:s,setError:c}=e;return a.createElement("div",{className:"relative w-full"},a.createElement("input",{className:"w-full rounded-lg border border-transparent bg-gray-50 p-5 pr-11 text-xl shadow-md outline-none hover:border-main-300 focus:border-main-700 dark:bg-gray-800  dark:hover:border-main-700 dark:focus:border-main-500 "+(t?"bg-main-100 dark:bg-main-900":""),type:"text",placeholder:(0,o.I)({message:"JellyChat.Placeholder"}),value:n,ref:s,onChange:e=>{l(e.target.value),c(!1)},onKeyDown:e=>{13===e.keyCode&&r()}}),a.createElement("div",{className:"absolute inset-y-0 right-3 flex items-center"},n&&a.createElement("button",{className:"flex h-6 w-6 cursor-pointer items-center justify-center rounded-full border-0 bg-gray-100 text-xs font-bold text-gray-600 dark:bg-gray-500 dark:text-gray-800",onClick:()=>{l(""),s.current.focus()}},"X")))}function u(e){let{selectedRating:t,currentId:r,setSelectedRating:n}=e;const l=async e=>{if(0!==r)try{200===(await fetch("https://chatdefichain.fly.dev/rate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:r,rating:e})})).status&&n(e)}catch(t){console.error(t)}};return a.createElement("div",{className:"mt-2 flex w-full gap-2"},a.createElement("div",{className:`flex grow items-center justify-center rounded-t-sm rounded-br-sm rounded-bl-lg bg-gray-50 py-4 text-2xl transition-colors dark:bg-gray-800 \n    ${0===t?"text-secondary-600":""}\n    ${0===r?"text-gray-300":"cursor-pointer shadow-lg hover:bg-gray-100 dark:hover:bg-gray-900"}`,onClick:()=>l(0)},a.createElement(s.G,{icon:c.bam})),a.createElement("div",{className:`flex grow items-center justify-center rounded-t-sm rounded-bl-sm rounded-br-lg bg-gray-50 py-4 text-2xl transition-colors dark:bg-gray-800\n    ${1===t?"text-main-600":""}\n    ${0===r?"text-gray-300":"cursor-pointer shadow-lg hover:bg-gray-100 dark:hover:bg-gray-900"}`,onClick:()=>l(1)},a.createElement(s.G,{icon:c.u8Q})))}function m(e){let{answer:t,loading:r}=e;return a.createElement("div",{className:"w-full"},a.createElement("div",{className:"h-48 overflow-auto rounded-t-lg rounded-b-sm border-0 bg-gray-50 p-5 shadow-md outline-none dark:bg-gray-800"},!r&&a.createElement("p",{className:"text-lg"},t),r&&a.createElement("div",null,a.createElement("div",{className:"mb-2 h-4 w-64 animate-pulse rounded-md bg-gray-100 dark:bg-gray-700"}),a.createElement("div",{className:"mb-2 h-4 w-40 animate-pulse rounded-md bg-gray-100 dark:bg-gray-700"}),a.createElement("div",{className:"mb-2 h-4 w-48 animate-pulse rounded-md bg-gray-100 dark:bg-gray-700"}))))}function g(e){let{disabled:t,onSubmit:r}=e;return a.createElement("button",{className:"sendButton my-3 w-full cursor-pointer rounded-lg border-none p-4 text-lg text-white outline-none",onClick:r,disabled:t},a.createElement(o.Z,null,"JellyChat.Button"))}function b(){return a.createElement(l.Z,{className:"absolute top-5 right-5 flex h-10 w-10 cursor-pointer items-center justify-center rounded-full bg-gray-50 font-bold shadow-md dark:bg-gray-800",to:"/docs/auto/JellyChat"},"?")}function y(){return a.createElement("div",{className:"jellyChatBeta absolute top-0 left-0 h-32 w-32 drop-shadow-md"})}}}]);